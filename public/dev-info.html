<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Prometheus Web Port Â· Dev Notes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="scanlines" aria-hidden="true"></div>
    <header class="masthead">
      <div class="masthead__title">Prometheus Web Port</div>
      <p class="masthead__subtitle">Dev notes, privacy stance, and the full execution chain.</p>
      <div class="masthead__links">
        <a href="./">Back to console</a>
        <a href="https://github.com/Vvoidddd/Prometheus-Web-Port" target="_blank" rel="noreferrer">GitHub</a>
        <a href="https://github.com/prometheus-lua/Prometheus" target="_blank" rel="noreferrer">Prometheus repo</a>
      </div>
    </header>

    <main class="site-shell">
      <section class="card">
        <h2>Pipeline overview</h2>
        <ol>
          <li>Your Lua never leaves the browser until you click <em>Obfuscate</em>.</li>
          <li>The Express backend receives your snippet on <code>localhost</code> only.</li>
          <li>
            It writes to a temp directory, runs <code>lua ./Prometheus-master/cli.lua</code> with the selected preset/Lua target,
            and waits for Prometheus to finish.
          </li>
          <li>The output is streamed back, rendered in the editor, and the temp directory is shredded.</li>
          <li>The log window mirrors stdout/stderr so you can see every CLI message.</li>
        </ol>
      </section>

      <section class="card">
        <h2>Update mechanics</h2>
        <p>
          <strong>Version 1.2</strong> is stored in <code>version.txt</code>. The UI hits
          <code>https://raw.githubusercontent.com/Vvoidddd/Prometheus-Web-Port/main/version.txt</code> whenever you load the
          page. If a newer version exists, you can download the latest source zip directly from GitHub without leaving the UI.
        </p>
        <p>
          The Prometheus core version is tracked in <code>prometheus-version.txt</code>. The update button calls out to the
          official <code>prometheus-lua/Prometheus</code> tags feed, downloads the newest tag as a zip, extracts it, replaces
          <code>Prometheus-master</code>, and updates the version file.
        </p>
        <p>
          Both update flows run locally and only talk to GitHub. Nothing touches arbitrary endpoints, and the downloads live in
          <code>./updates</code> for you to inspect.
        </p>
      </section>

      <section class="card">
        <h2>Privacy stance</h2>
        <p>No tracking beacons, analytics, or remote logging exist in this project.</p>
        <p>
          If you want to audit the behavior, start with <code>server.js</code> (Express routes + Prometheus spawn) and
          <code>public/app.js</code> (front-end wiring). The entire dependency tree is in <code>package-lock.json</code>.
        </p>
      </section>

      <section class="card">
        <h2>Credits</h2>
        <ul>
          <li>Interface + plumbing by <a href="https://github.com/Vvoidddd" target="_blank" rel="noreferrer">void</a>.</li>
          <li>
            Prometheus obfuscator by
            <a href="https://github.com/prometheus-lua/Prometheus" target="_blank" rel="noreferrer">Elias Oelschner</a>.
          </li>
        </ul>
      </section>
    </main>

    <footer class="footer">
      <p>Stay local. Stay transparent.</p>
    </footer>
  </body>
</html>
